<Window xmlns:hc="https://handyorg.github.io/handycontrol"  x:Class="Game.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Game" xmlns:s="clr-namespace:Game.UI" xmlns:Sys="clr-namespace:System;assembly=System.Runtime"
        mc:Ignorable="d"
        Title="MainWindow" Height="600" Width="800" WindowState="Normal" WindowStyle="SingleBorderWindow" Visibility="Visible" ShowInTaskbar="False" Background="#FF30363D" Foreground="#FFD6DFE9">
    <Window.Resources>

        <!-- MoveThumb Template -->
        <ControlTemplate x:Key="MoveThumbTemplate" TargetType="{x:Type s:MoveThumb}">
            <Rectangle Fill="Transparent" />
        </ControlTemplate>


        <ControlTemplate x:Key="MinTemplate" TargetType="{x:Type s:MinButton}">
            <TextBlock Grid.Column="0" Text="-" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0,0,0,0" FontWeight="Normal" />
        </ControlTemplate>

        <ControlTemplate x:Key="MaxTemplate" TargetType="{x:Type s:MaxButton}">
            <TextBlock Grid.Column="0" Text="&#10697;" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0,0,0,0" FontWeight="Normal" />
        </ControlTemplate>

        <!-- ResizeDecorator Template -->
        <ControlTemplate x:Key="ResizeDecoratorTemplate" TargetType="{x:Type Control}">
            <Grid>
                <s:ResizeThumb Height="3" Cursor="SizeNS" Margin="0 -4 0 0"
                       VerticalAlignment="Top" HorizontalAlignment="Stretch" Opacity="0" />
                <s:ResizeThumb Width="3" Cursor="SizeWE" Margin="-4 0 0 0"
                       VerticalAlignment="Stretch" HorizontalAlignment="Left" Opacity="0" />
                <s:ResizeThumb Width="3" Cursor="SizeWE" Margin="0 0 -4 0"
                       VerticalAlignment="Stretch" HorizontalAlignment="Right" Opacity="0" />
                <s:ResizeThumb Height="3" Cursor="SizeNS" Margin="0 0 0 -4"
                       VerticalAlignment="Bottom" HorizontalAlignment="Stretch" Opacity="0" />
                <s:ResizeThumb Width="7" Height="7" Cursor="SizeNWSE" Margin="-6,-6,0,0"
                       VerticalAlignment="Top" HorizontalAlignment="Left" Background="{x:Null}" Foreground="{x:Null}" Opacity="0" Visibility="Visible" />
                <s:ResizeThumb Width="7" Height="7" Cursor="SizeNESW" Margin="0 -6 -6 0"
                       VerticalAlignment="Top" HorizontalAlignment="Right" Opacity="0" />
                <s:ResizeThumb Width="7" Height="7" Cursor="SizeNESW" Margin="-6 0 0 -6"
                       VerticalAlignment="Bottom" HorizontalAlignment="Left" Opacity="0" />
                <s:ResizeThumb Width="7" Height="7" Cursor="SizeNWSE" Margin="0 0 -6 -6"
                       VerticalAlignment="Bottom" HorizontalAlignment="Right" Opacity="0" />
            </Grid>
        </ControlTemplate>

        <!-- Designer Item Template-->
        <ControlTemplate x:Key="DesignerItemTemplate" TargetType="ContentControl">
            <Grid DataContext="{Binding RelativeSource={RelativeSource TemplatedParent}}">
                <Control Template="{StaticResource ResizeDecoratorTemplate}" />
                <ContentPresenter Content="{TemplateBinding ContentControl.Content}" />
            </Grid>
        </ControlTemplate>

        <!--Controll template for inner border for frames-->
        <ControlTemplate x:Key = "BorderedWindowTemplate" TargetType = "ContentControl">
            <Grid Background="Silver">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1"/>
                    <ColumnDefinition Width="1"/>
                    <ColumnDefinition Width="1"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="1"/>
                    <ColumnDefinition Width="1"/>
                    <ColumnDefinition Width="1"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="1"/>
                    <RowDefinition Height="1"/>
                    <RowDefinition Height="1"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="1"/>
                    <RowDefinition Height="1"/>
                    <RowDefinition Height="1"/>
                </Grid.RowDefinitions>
                <Frame x:Name="PageFrame" NavigationUIVisibility="Automatic" Padding="0,0,0,0" Margin="0,0,0,0" BorderThickness="1,1,0,0" Foreground="{x:Null}" Grid.Column="3" Grid.Row="3" BorderBrush="Black" />
                <Rectangle Fill="Silver" Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="7"/>
                <Rectangle Fill="Gray" Grid.Column="1" Grid.Row="1" Grid.ColumnSpan="5"/>
                <Rectangle Fill="Black" Grid.Column="2" Grid.Row="2" Grid.ColumnSpan="3"/>

                <Rectangle Fill="Silver" Grid.Column="0" Grid.Row="0" Grid.RowSpan="7" />
                <Rectangle Fill="Gray" Grid.Column="1" Grid.Row="1" Grid.RowSpan="4" />
                <Rectangle Fill="Black" Grid.Column="2" Grid.Row="2" Grid.RowSpan="4" />

                <Rectangle Fill="#FFDFDFDF" Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="7"/>
                <Rectangle Fill="White" Grid.Column="1" Grid.Row="5" Grid.ColumnSpan="5"/>
                <Rectangle Fill="Silver" Grid.Column="2" Grid.Row="4" Grid.ColumnSpan="3"/>

                <Rectangle Fill="#FFDFDFDF" Grid.Column="4" Grid.Row="3" Grid.RowSpan="2" />
                <Rectangle Fill="White" Grid.Column="5" Grid.Row="2" Grid.RowSpan="3" />
                <Rectangle Fill="Silver" Grid.Column="6" Grid.Row="1" Grid.RowSpan="7" />

            </Grid>
        </ControlTemplate>
    </Window.Resources>

    <Grid Background="Teal" MouseUp="WindowContentControlMouseUp">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>
        <StackPanel Grid.Row="0" Orientation="Horizontal" Background="#FF3A434B" Grid.ColumnSpan="2">

            <TextBlock x:Name="GameSpeedTextBlock" Text="1" Margin="5,0,5,0"/>
            <Button Name="DecreaseGameSpeedButton" Click="DecreaseGameSpeedButton_Click" HorizontalAlignment="Center" VerticalAlignment="Stretch" >
                <TextBlock Text="&lt;&lt;"/>
            </Button>
            <Button Name="PauseGameButton" Click="PauseGameButton_Click" HorizontalAlignment="Center">
                <TextBlock Text="="/>
            </Button>
            <Button Name="IncreaseGameSpeedButton" Click="IncreaseGameSpeedButton_Click" HorizontalAlignment="Center" Background="{x:Null}" BorderBrush="{x:Null}" Foreground="#FFD6DFE9">
                <TextBlock Text="&gt;&gt;"/>
            </Button>
        </StackPanel>
        <Border Grid.Row="2" BorderBrush="#FF0C0B0B" Background="Silver" BorderThickness="0,0,0,0" Margin="0,0,0,0" Padding="0,0,0,0" Height="42" Grid.ColumnSpan="2">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>
                <Menu DockPanel.Dock="Top" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <MenuItem Header="" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <MenuItem.Background>
                            <ImageBrush ImageSource="/Icons/OtherIcons/side-menu.png"/>
                        </MenuItem.Background>
                        <MenuItem Header="_New" />
                        <MenuItem Header="_Open" />
                        <MenuItem Header="_Save" />
                        <Separator />
                        <MenuItem Header="_Exit" />
                    </MenuItem>
                </Menu>
                <StackPanel Name="TaskBar" Orientation="Horizontal" HorizontalAlignment="Stretch" Grid.Column="1" TextElement.FontFamily="pack://application:,,,/Fonts/#Joystix Monospace">
                    <ContentControl x:Name="BounceTaskBarButton"  Style="{StaticResource TaskBarButtonBox}" VerticalAlignment="Center" HorizontalAlignment="Left" Width="150" Margin="0,0,4,0">
                        <ToggleButton VerticalAlignment="Stretch" HorizontalAlignment="Stretch" BorderBrush="{x:Null}" Foreground="Black" Background="Silver" Click="ToggleButton_Click">
                            <Grid HorizontalAlignment="Stretch" Margin="-30,0,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Image Grid.Column="0" Source="/Icons/OtherIcons/001-network.png" Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center" />
                                <TextBlock Grid.Column="1" Text="Bounce" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="18" Margin="0,0,0,0"/>
                            </Grid>
                        </ToggleButton>
                    </ContentControl>
                    <ContentControl x:Name="ZeeChatTaskBarButton"  Style="{StaticResource TaskBarButtonBox}" VerticalAlignment="Center" HorizontalAlignment="Left" Width="150" Margin="0,0,4,0">
                        <ToggleButton VerticalAlignment="Stretch" HorizontalAlignment="Stretch" BorderBrush="{x:Null}" Foreground="Black" Background="Silver" Click="ToggleButton_Click" Margin="0,0,0,0">
                            <Grid HorizontalAlignment="Stretch" Margin="-1,0,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Image Grid.Column="0" Source="/Icons/OtherIcons/005-chat-1.png" Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center" />
                                <TextBlock Grid.Column="1" Text="Zee Chat" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="18" Margin="0,0,0,0"/>
                                
                            </Grid>
                        </ToggleButton>
                    </ContentControl>
                    <ContentControl x:Name="LocalConsoleTaskBarButton"  Style="{StaticResource TaskBarButtonBox}" VerticalAlignment="Center" HorizontalAlignment="Left" Width="150" Margin="0,0,4,0">
                        <ToggleButton VerticalAlignment="Stretch" HorizontalAlignment="Stretch" BorderBrush="{x:Null}" Foreground="Black" Background="Silver" Click="ToggleButton_Click">
                            <Grid HorizontalAlignment="Stretch" Margin="-69,0,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Image Grid.Column="0" Source="/Icons/OtherIcons/014-programing-1.png" Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center" />
                                <TextBlock Grid.Column="1" Text="CMD" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="18" Margin="0,0,0,0"/>

                            </Grid>
                        </ToggleButton>
                    </ContentControl>
                    <ContentControl x:Name="RemoteConsoleTaskBarButton"  Style="{StaticResource TaskBarButtonBox}" VerticalAlignment="Center" HorizontalAlignment="Left" Width="150" Margin="0,0,4,0">
                        <ToggleButton VerticalAlignment="Stretch" HorizontalAlignment="Stretch" BorderBrush="{x:Null}" Foreground="Black" Background="Silver" Click="ToggleButton_Click">
                            <Grid HorizontalAlignment="Stretch" Margin="-29,0,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Image Grid.Column="0" Source="/Icons/OtherIcons/015-configuration.png" Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center" />
                                <TextBlock Grid.Column="1" Text="TracON" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="18" Margin="0,0,0,0"/>
                            </Grid>
                        </ToggleButton>
                    </ContentControl>
                </StackPanel>
                <StackPanel Name="Tray" HorizontalAlignment="Right" Orientation="Horizontal" Grid.Column="2">
                    <Border BorderThickness="1,1,1,1" Background="Silver" Margin="0,2,2,2" Padding="0,1,0,1" HorizontalAlignment="Center" VerticalAlignment="Stretch">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="1" Direction="311" RenderingBias="Quality" ShadowDepth="0" Opacity="1"/>
                        </Border.Effect>
                        <TextBlock x:Name="GameTimeTextBlock" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="10,0,10,2" Foreground="#FF060000" FontSize="14" FlowDirection="LeftToRight">
                            hh:mm<LineBreak/>
                            dd-mm-yy
                        </TextBlock>
                    </Border>
                </StackPanel>
            </Grid>
        </Border>

        <Canvas Grid.Row="1" x:Name="MainCanvas" Background="Teal" Margin="0,0,0,0" Grid.ColumnSpan="2">

            <ContentControl
            x:Name="MapControl"
            Width="600"
            MinWidth="0"
            Height="300"
            MinHeight="0"
            Canvas.Top="150"
            Canvas.Left="150"
            Template="{StaticResource DesignerItemTemplate}"
            ScrollViewer.VerticalScrollBarVisibility="Disabled"
            Padding="0,0,0,0" UseLayoutRounding="True"
            RenderTransformOrigin="0.5,0.5" Foreground="White" Background="Silver" IsVisibleChanged="MapControl_IsVisibleChanged" Visibility="Hidden" GotFocus="MapControl_GotFocus" MouseUp="WindowContentControlMouseUp">
                <ContentControl.Resources>
                    <Sys:Boolean x:Key="Maxed">false</Sys:Boolean>
                </ContentControl.Resources>

                <Border Padding="0,0,0,0" Margin="5,5,5,5" BorderThickness="1,1,1,1" UseLayoutRounding="{DynamicResource Maxed}" BorderBrush="Silver">
                    <Border.Effect>
                        <DropShadowEffect RenderingBias="Quality" ShadowDepth="2" BlurRadius="1"/>
                    </Border.Effect>
                    <Border Margin="0,0,0,0" Padding="1,1,1,1" BorderBrush="White" BorderThickness="1,1,0,0" Background="Silver">
                        <Grid Loaded="Grid_Loaded" Background="Silver">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">

                                <Grid x:Name="GradientGrid" DataContext="{Binding ElementName=MapControl}" Height="21" Margin="0,0,0,5">
                                    <Grid.Background>
                                        <LinearGradientBrush EndPoint="0.8,1" StartPoint="0,0">
                                            <GradientStop Color="Navy" Offset="0"/>
                                            <GradientStop Color="#FF195689" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Grid.Background>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Image Grid.Column="0" Source="/Icons/OtherIcons/001-network.png"
                                               Stretch="UniformToFill" Margin="2,0,0,0" 
                                               ScrollViewer.VerticalScrollBarVisibility="Disabled" 
                                               Panel.ZIndex="11" VerticalAlignment="Center" 
                                               HorizontalAlignment="Center" Height="21" Width="21" />
                                    <TextBlock Grid.Column="1" Text="Bounce Visual Assistant" Panel.ZIndex="0" Foreground="White" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="3,-2,0,0" FontFamily="pack://application:,,,/Fonts/#Joystix Monospace" FontSize="10" Padding="0,0,0,0" RenderTransformOrigin="0.5,0.5" FontWeight="Bold" TextDecorations="{x:Null}" FontStyle="Normal">

                                    </TextBlock>
                                    <s:MoveThumb Grid.Column="0" Grid.ColumnSpan="2" Template="{StaticResource MoveThumbTemplate}" Cursor="SizeAll" />

                                    <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="0,-4,0,-4" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                        <s:MinButton Background="Silver" Margin="1,5,1,5" Height="17" Width="17">
                                            <TextBlock Text="&#9866;" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0,0,0,0" />
                                        </s:MinButton>
                                        <s:MaxButton Foreground="Black" Background="Silver" Margin="1,5,5,5" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="18" Height="17">
                                        </s:MaxButton>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                            <Frame x:Name="MapControlFrame" Grid.Column="0" Grid.Row="1"/>
                            <!--<ContentControl x:Name="MapControlFrame" Grid.Column="0" Grid.Row="1" Template="{StaticResource BorderedWindowTemplate}">
                            </ContentControl-->
                        </Grid>
                    </Border>
                </Border>
            </ContentControl>

            <ContentControl
            x:Name="RemoteConsole"
            Width="600"
            MinWidth="0"
            Height="300"
            MinHeight="0"
            Canvas.Top="150"
            Canvas.Left="150"
            Template="{StaticResource DesignerItemTemplate}"
            ScrollViewer.VerticalScrollBarVisibility="Disabled"
            Padding="0,0,0,0" UseLayoutRounding="True"
            RenderTransformOrigin="0.5,0.5" Foreground="White" Background="Silver" IsVisibleChanged="RemoteConsole_IsVisibleChanged" Visibility="Hidden" MouseUp="WindowContentControlMouseUp">
                <ContentControl.Resources>
                    <Sys:Boolean x:Key="Maxed">false</Sys:Boolean>
                </ContentControl.Resources>

                <Border Padding="0,0,0,0" Margin="5,5,5,5" BorderThickness="1,1,1,1" UseLayoutRounding="{DynamicResource Maxed}" BorderBrush="Silver">
                    <Border.Effect>
                        <DropShadowEffect RenderingBias="Quality" ShadowDepth="2" BlurRadius="1"/>
                    </Border.Effect>
                    <Border Margin="0,0,0,0" Padding="1,1,1,1" BorderBrush="White" BorderThickness="1,1,0,0" Background="Silver">
                        <Grid Loaded="Grid_Loaded" Background="Silver">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">

                                <Grid x:Name="RemoteGradientGrid" DataContext="{Binding ElementName=RemoteConsole}" Height="21" Margin="0,0,0,5">
                                    <Grid.Background>
                                        <LinearGradientBrush EndPoint="0.8,1" StartPoint="0,0">
                                            <GradientStop Color="Navy" Offset="0"/>
                                            <GradientStop Color="#FF195689" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Grid.Background>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Image Grid.Column="0" Source="/Icons/OtherIcons/015-configuration.png"
                                               Stretch="UniformToFill" Margin="2,0,0,0" 
                                               ScrollViewer.VerticalScrollBarVisibility="Disabled" 
                                               Panel.ZIndex="11" VerticalAlignment="Center" 
                                               HorizontalAlignment="Center" Height="21" Width="21" />
                                    <TextBlock Grid.Column="1" Text="TracON Remote Shell" Panel.ZIndex="0" Foreground="White" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="3,-2,0,0" FontFamily="pack://application:,,,/Fonts/#Joystix Monospace" FontSize="10" Padding="0,0,0,0" RenderTransformOrigin="0.5,0.5" FontWeight="Bold" TextDecorations="{x:Null}" FontStyle="Normal">

                                    </TextBlock>

                                    <s:MoveThumb Grid.Column="0" Grid.ColumnSpan="2" Template="{StaticResource MoveThumbTemplate}" Cursor="SizeAll" />

                                    <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="0,-4,0,-4" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                        <s:MinButton Background="Silver" Margin="1,5,1,5" Height="17" Width="17">
                                            <TextBlock Text="&#9866;" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0,0,0,0" />
                                        </s:MinButton>
                                        <s:MaxButton Foreground="Black" Background="Silver" Margin="1,5,5,5" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="18" Height="17">
                                        </s:MaxButton>
                                    </StackPanel>
                                </Grid>

                            </Grid>
                            <ContentControl x:Name="RemoteConsoleFrame" Grid.Column="0" Grid.Row="1" Template="{StaticResource BorderedWindowTemplate}">
                            </ContentControl>
                        </Grid>
                    </Border>
                </Border>
            </ContentControl>

            <ContentControl
            x:Name="LocalConsole"
            Width="600"
            MinWidth="0"
            Height="300"
            MinHeight="0"
            Canvas.Top="0"
            Canvas.Left="0"
            Template="{StaticResource DesignerItemTemplate}"
            ScrollViewer.VerticalScrollBarVisibility="Disabled"
            Padding="0,0,0,0" UseLayoutRounding="True"
            RenderTransformOrigin="0.5,0.5" Foreground="White" Background="Silver" IsVisibleChanged="LocalConsole_IsVisibleChanged" Visibility="Hidden" MouseUp="WindowContentControlMouseUp">
                <ContentControl.Resources>
                    <Sys:Boolean x:Key="Maxed">false</Sys:Boolean>
                </ContentControl.Resources>

                <Border Padding="0,0,0,0" Margin="5,5,5,5" BorderThickness="1,1,1,1" UseLayoutRounding="{DynamicResource Maxed}" BorderBrush="Silver" Background="Silver">
                    <Border.Effect>
                        <DropShadowEffect RenderingBias="Quality" ShadowDepth="2" BlurRadius="1"/>
                    </Border.Effect>
                    <Border Margin="0,0,0,0" Padding="1,1,1,1" BorderBrush="White" BorderThickness="1,1,0,0" Background="Silver">
                        <Grid Loaded="Grid_Loaded" Background="Silver">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="2,2,2,0">

                                <Grid x:Name="LocalGradientGrid" DataContext="{Binding ElementName=LocalConsole}" Height="21" Margin="0,0,0,5">
                                    <Grid.Background>
                                        <LinearGradientBrush EndPoint="0.8,1" StartPoint="0,0">
                                            <GradientStop Color="Navy" Offset="0"/>
                                            <GradientStop Color="#FF195689" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Grid.Background>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Image Grid.Column="0" Source="/Icons/OtherIcons/014-programing-1.png"
                                               Stretch="UniformToFill" Margin="2,0,0,0" 
                                               ScrollViewer.VerticalScrollBarVisibility="Disabled" 
                                               Panel.ZIndex="11" VerticalAlignment="Center" 
                                               HorizontalAlignment="Center" Height="21" Width="21" />
                                    <TextBlock Grid.Column="1" Text="Apature Command Prompt" Panel.ZIndex="0" Foreground="White" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="3,-2,0,0" FontFamily="pack://application:,,,/Fonts/#Joystix Monospace" FontSize="10" Padding="0,0,0,0" RenderTransformOrigin="0.5,0.5" FontWeight="Bold" TextDecorations="{x:Null}" FontStyle="Normal">

                                    </TextBlock>


                                    <s:MoveThumb Grid.Column="0" Grid.ColumnSpan="2" Template="{StaticResource MoveThumbTemplate}" Cursor="SizeAll" />

                                    <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="0,-4,0,-4" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                        <s:MinButton Background="Silver" Margin="1,5,1,5" Height="17" Width="17">
                                            <TextBlock Text="&#9866;" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0,0,0,0" />
                                        </s:MinButton>
                                        <s:MaxButton Foreground="Black" Background="Silver" Margin="1,5,5,5" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="18" Height="17">
                                        </s:MaxButton>
                                    </StackPanel>
                                </Grid>

                            </Grid>
                            <ContentControl x:Name="LocalConsoleFrame" Grid.Column="0" Grid.Row="1" Template="{StaticResource BorderedWindowTemplate}">
                            </ContentControl>
                        </Grid>
                    </Border>
                </Border>
            </ContentControl>

            <ContentControl
            x:Name="IRC"
            Width="600"
            MinWidth="0"
            Height="300"
            MinHeight="0"
            Canvas.Top="0"
            Canvas.Left="0"
            Template="{StaticResource DesignerItemTemplate}"
            ScrollViewer.VerticalScrollBarVisibility="Disabled"
            Padding="0,0,0,0" UseLayoutRounding="True"
            RenderTransformOrigin="0.5,0.5" Foreground="White" IsVisibleChanged="IRC_IsVisibleChanged" Background="Silver" Visibility="Hidden" MouseUp="WindowContentControlMouseUp">
                <ContentControl.Resources>
                    <Sys:Boolean x:Key="Maxed">false</Sys:Boolean>
                </ContentControl.Resources>

                <Border Padding="0,0,0,0" Margin="5,5,5,5" BorderThickness="1,1,1,1" UseLayoutRounding="{DynamicResource Maxed}" BorderBrush="Silver" Background="Silver">
                    <Border.Effect>
                        <DropShadowEffect RenderingBias="Quality" ShadowDepth="2" BlurRadius="1"/>
                    </Border.Effect>
                    <Border Margin="0,0,0,0" Padding="1,1,1,1" BorderBrush="White" BorderThickness="1,1,0,0" Background="Silver">
                        <Grid Loaded="Grid_Loaded" Background="Silver">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="2,2,2,0">

                                <Grid x:Name="IRCGradientGrid" DataContext="{Binding ElementName=IRC}" Height="21" Margin="-1,-1,-1,5">
                                    <Grid.Background>
                                        <LinearGradientBrush EndPoint="0.8,1" StartPoint="0,0">
                                            <GradientStop Color="Navy" Offset="0"/>
                                            <GradientStop Color="#FF195689" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Grid.Background>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Image Grid.Column="0" Source="/Icons/OtherIcons/005-chat-1.png"
                                               Stretch="UniformToFill" Margin="2,0,0,0" 
                                               ScrollViewer.VerticalScrollBarVisibility="Disabled" 
                                               Panel.ZIndex="11" VerticalAlignment="Center" 
                                               HorizontalAlignment="Center" Height="21" Width="21" />
                                    <TextBlock Grid.Column="1" Text="Zee Chat IRC" Panel.ZIndex="0" Foreground="White" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="3,-2,0,0" FontFamily="pack://application:,,,/Fonts/#Joystix Monospace" FontSize="10" Padding="0,0,0,0" RenderTransformOrigin="0.5,0.5" FontWeight="Bold" TextDecorations="{x:Null}" FontStyle="Normal">
                                       
                                    </TextBlock>


                                    <s:MoveThumb Grid.Column="0" Grid.ColumnSpan="2" Template="{StaticResource MoveThumbTemplate}" Cursor="SizeAll" Padding="0,0,0,0" />

                                    <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="0,-4,0,-4" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                        <s:MinButton Background="Silver" Margin="1,5,1,5" Height="17" Width="17">
                                            <TextBlock Text="&#9866;" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0,0,0,0" />
                                        </s:MinButton>
                                        <s:MaxButton Foreground="Black" Background="Silver" Margin="1,5,5,5" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="18" Height="17">
                                        </s:MaxButton>
                                    </StackPanel>
                                </Grid>

                            </Grid>
                            <ContentControl x:Name="IRCFrame" Grid.Column="0" Grid.Row="1" Template="{StaticResource BorderedWindowTemplate}">
                            </ContentControl>
                        </Grid>
                    </Border>
                </Border>
            </ContentControl>



        </Canvas>
    </Grid>

</Window>